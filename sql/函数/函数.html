<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.7.0 (472010)"/><meta name="altitude" content="0"/><meta name="author" content="super 超"/><meta name="created" content="2023-08-11 08:28:42 +0000"/><meta name="latitude" content="40.05923461914062"/><meta name="longitude" content="116.3369877431549"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2023-08-11 10:26:22 +0000"/><title>函数</title></head><body style="font-size: 14px;"><div><span style="font-weight: bold;">mysql内置</span></div><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">字符串函数</span></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 182px;"/><col style="width: 244px;"/></colgroup><tbody><tr><td style="background-color: rgb(151, 151, 151); border: 1px solid rgb(121, 121, 121); width: 182px; padding: 8px;"><div><span style="color: rgb(255, 255, 255);">函数</span></div></td><td style="background-color: rgb(151, 151, 151); border: 1px solid rgb(121, 121, 121); width: 244px; padding: 8px;"><div><span style="color: rgb(255, 255, 255);">功能</span></div></td></tr><tr><td style="width: 182px; padding: 8px; border: 1px solid;"><div>concat(s1, s2, s3)</div></td><td style="width: 244px; padding: 8px; border: 1px solid;"><div>字符串拼接</div></td></tr><tr><td style="width: 182px; padding: 8px; border: 1px solid;"><div>lower(str)</div></td><td style="width: 244px; padding: 8px; border: 1px solid;"><div>转小写</div></td></tr><tr><td style="width: 182px; padding: 8px; border: 1px solid;"><div>Upper(str)</div></td><td style="width: 244px; padding: 8px; border: 1px solid;"><div>转大写</div></td></tr><tr><td style="width: 182px; padding: 8px; border: 1px solid;"><div>lpad(str, n, pad)</div></td><td style="width: 244px; padding: 8px; border: 1px solid;"><div>左填充，用pad填充，达到n长度</div></td></tr><tr><td style="width: 182px; padding: 8px; border: 1px solid;"><div>rpad(str, n, pad)</div></td><td style="width: 244px; padding: 8px; border: 1px solid;"><div>右填充</div></td></tr><tr><td style="width: 182px; padding: 8px; border: 1px solid;"><div>Trim(str)</div></td><td style="width: 244px; padding: 8px; border: 1px solid;"><div>俩边去空格</div></td></tr><tr><td style="width: 182px; padding: 8px; border: 1px solid;"><div>Substring(str, start, len)</div></td><td style="width: 244px; padding: 8px; border: 1px solid;"><div>截取字符串，从start（含）开始</div><div><font color="#ff2600" style="font-size: 18px;"><span style="font-size: 18px; color: rgb(255, 38, 0); font-weight: bold;">索引从1开始！！</span></font></div></td></tr></tbody></table><div><br/></div></div><div><br/></div><div><span style="font-weight: bold; font-size: 18px;">数值函数</span></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 163px;"/><col style="width: 274px;"/></colgroup><tbody><tr><td style="background-color: rgb(151, 151, 151); border: 1px solid rgb(121, 121, 121); width: 163px; padding: 8px;"><div><span style="color: rgb(255, 255, 255);">函数</span></div></td><td style="background-color: rgb(151, 151, 151); border: 1px solid rgb(121, 121, 121); width: 274px; padding: 8px;"><div><span style="color: rgb(255, 255, 255);">功能</span></div></td></tr><tr><td style="width: 163px; padding: 8px; border: 1px solid;"><div>Ceil(x)</div></td><td style="width: 274px; padding: 8px; border: 1px solid;"><div>向上取整</div></td></tr><tr><td style="width: 163px; padding: 8px; border: 1px solid;"><div>Floor(x)</div></td><td style="width: 274px; padding: 8px; border: 1px solid;"><div>向下取整</div></td></tr><tr><td style="width: 163px; padding: 8px; border: 1px solid;"><div>Mod(x, y)</div></td><td style="width: 274px; padding: 8px; border: 1px solid;"><div>返回x/y的模</div></td></tr><tr><td style="width: 163px; padding: 8px; border: 1px solid;"><div>Rand()</div></td><td style="width: 274px; padding: 8px; border: 1px solid;"><div>返回0～1的随机数</div></td></tr><tr><td style="width: 163px; padding: 8px; border: 1px solid;"><div>Round(x, y)</div></td><td style="width: 274px; padding: 8px; border: 1px solid;"><div>求x的四舍五入，保留y位</div></td></tr></tbody></table><div><br/></div></div><div><span style="font-weight: bold; font-size: 18px;">日期函数</span></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 242px;"/><col style="width: 281px;"/></colgroup><tbody><tr><td style="background-color: rgb(151, 151, 151); border: 1px solid rgb(121, 121, 121); width: 242px; padding: 8px;"><div><span style="color: rgb(255, 255, 255);">函数</span></div></td><td style="background-color: rgb(151, 151, 151); border: 1px solid rgb(121, 121, 121); width: 281px; padding: 8px;"><div><span style="color: rgb(255, 255, 255);">功能</span></div></td></tr><tr><td style="width: 242px; padding: 8px; border: 1px solid;"><div>Curdate()</div></td><td style="width: 281px; padding: 8px; border: 1px solid;"><div>返回当前日期</div></td></tr><tr><td style="width: 242px; padding: 8px; border: 1px solid;"><div>Curtime()</div></td><td style="width: 281px; padding: 8px; border: 1px solid;"><div>返回当前时间</div></td></tr><tr><td style="width: 242px; padding: 8px; border: 1px solid;"><div>Now()</div></td><td style="width: 281px; padding: 8px; border: 1px solid;"><div>返回当前日期和时间</div></td></tr><tr><td style="width: 242px; padding: 8px; border: 1px solid;"><div>Year(date)</div></td><td style="width: 281px; padding: 8px; border: 1px solid;"><div>返回指定date的年份</div></td></tr><tr><td style="width: 242px; padding: 8px; border: 1px solid;"><div>Month(date)</div></td><td style="width: 281px; padding: 8px; border: 1px solid;"><div>返回指定的date的月份</div></td></tr><tr><td style="width: 242px; padding: 8px; border: 1px solid;"><div>Day(date)</div></td><td style="width: 281px; padding: 8px; border: 1px solid;"><div>返回指定date的日期</div></td></tr><tr><td style="width: 242px; padding: 8px; border: 1px solid;"><div>Date_add(date, interval expr type)</div></td><td style="width: 281px; padding: 8px; border: 1px solid;"><div>返回一个日期/时间值加上一个时间间隔expr后的时间值</div><div>Eg: 当前日志加10天后的日期</div><div><span style="font-size: 9.8pt; background-color: rgb(30, 31, 34); color: rgb(207, 142, 109); font-family: &quot;JetBrains Mono&quot;, monospace;">select </span><span style="font-size: 9.8pt; background-color: rgb(30, 31, 34); color: rgb(87, 170, 247); font-family: &quot;JetBrains Mono&quot;, monospace; font-style: italic;">date_add</span><span style="font-size: 9.8pt; background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-family: &quot;JetBrains Mono&quot;, monospace;">(</span><span style="font-size: 9.8pt; background-color: rgb(30, 31, 34); color: rgb(87, 170, 247); font-family: &quot;JetBrains Mono&quot;, monospace; font-style: italic;">curdate</span><span style="font-size: 9.8pt; background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-family: &quot;JetBrains Mono&quot;, monospace;">(), </span><span style="font-size: 9.8pt; background-color: rgb(30, 31, 34); color: rgb(207, 142, 109); font-family: &quot;JetBrains Mono&quot;, monospace;">interval </span><span style="font-size: 9.8pt; background-color: rgb(30, 31, 34); color: rgb(42, 172, 184); font-family: &quot;JetBrains Mono&quot;, monospace;">10 </span><span style="font-size: 9.8pt; background-color: rgb(30, 31, 34); color: rgb(207, 142, 109); font-family: &quot;JetBrains Mono&quot;, monospace;">DAY</span><span style="font-size: 9.8pt; background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-family: &quot;JetBrains Mono&quot;, monospace;">);</span></div></td></tr><tr><td style="width: 242px; padding: 8px; border: 1px solid;"><div>Datediff(date1, date2)</div></td><td style="width: 281px; padding: 8px; border: 1px solid;"><div>返回起始时间date1和结束时间date之间的天数</div></td></tr></tbody></table><div><br/></div></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">流程函数</span></font></div><div><div><span style="color: rgb(255, 38, 0); font-weight: bold;">可以在sql语句中实现条件筛选，从而提高语句执行效率</span></div><div><font color="#ff2600"><b>End容易忘掉</b></font></div><div><font color="#ff2600"><span style="caret-color: rgb(255, 38, 0);"><b>可以多when，也可以多case</b></span></font></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 238px;"/><col style="width: 252px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(121, 121, 121); background-color: rgb(151, 151, 151); width: 238px; padding: 8px;"><div><font color="#ffffff">函数</font></div></td><td style="border: 1px solid rgb(121, 121, 121); background-color: rgb(151, 151, 151); width: 252px; padding: 8px;"><div><font color="#ffffff">功能</font></div></td></tr><tr><td style="width: 238px; padding: 8px; border: 1px solid;"><div>if(value, t, f)</div></td><td style="width: 252px; padding: 8px; border: 1px solid;"><div>如果value=true，返回t，否则返回f</div></td></tr><tr><td style="width: 238px; padding: 8px; border: 1px solid;"><div>Ifnull(value1, value2)</div></td><td style="width: 252px; padding: 8px; border: 1px solid;"><div>如果value1不为空，返回value1，否则返回value2</div></td></tr><tr><td style="width: 238px; padding: 8px; border: 1px solid;"><div>Case when [val1] then [res1] … else [default] <font color="#ff2600">end</font></div></td><td style="width: 252px; padding: 8px; border: 1px solid;"><div>如果val1=true，返回res1，否则返回default</div></td></tr><tr><td style="width: 238px; padding: 8px; border: 1px solid;"><div>Case [expr] when [val1] then [res1] … else [default] <font color="#ff2600">end</font></div></td><td style="width: 252px; padding: 8px; border: 1px solid;"><div>如果expr == val1，返回res1，否则返回default</div></td></tr></tbody></table><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>